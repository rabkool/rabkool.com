    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    // 可直接替换
    data = [
        ['2018-04-29', 0],
        ['2018-05-05', 1],
        ['2018-05-10', 1],
        ['2018-05-15', 1],
        ['2018-05-16', 1],
        ['2018-05-21', 2],
        ['2018-06-01', 1],
        ['2018-06-02', 1],
        ['2018-06-03', 1],
        ['2018-06-04', 1],
        ['2018-06-07', 1],
        ['2018-06-12', 1],
        ['2018-06-14', 1],
        ['2018-06-15', 2],
        ['2018-06-17', 1],
        ['2018-06-22', 2],
        ['2018-06-23', 5],
        ['2018-06-26', 3],
        ['2018-06-28', 3],
        ['2018-07-01', 2],
        ['2018-07-03', 2],
        ['2018-07-05', 3],
        ['2018-07-06', 2],
        ['2018-07-07', 4],
        ['2018-07-10', 3],
        ['2018-07-12', 7],
        ['2018-07-14', 2],
        ['2018-07-16', 7],
        ['2018-07-17', 2],
        ['2018-07-18', 3],
        ['2018-07-21', 5],
        ['2018-07-22', 5],
        ['2018-07-23', 4],
        ['2018-08-02', 3],
        ['2018-08-04', 8],
        ['2018-08-08', 4],
        ['2018-08-10', 0],
        ['2018-08-11', 4],
        ['2018-08-12', 1],
        ['2018-08-13', 11],
        ['2018-08-17', 6],
        ['2018-08-18', 6],
        ['2018-08-20', 2],
        ['2018-08-23', 7],
        ['2018-08-26', 6],
        ['2018-08-28', 5],
        ['2018-09-02', 5],
        ['2018-09-08', 4],
        ['2018-09-14', 7],
        ['2018-09-16', 2],
        ['2018-09-17', 5],
        ['2018-09-23', 6],
        ['2018-09-29', 3],
        ['2018-10-02', 3],
        ['2018-10-03', 5],
        ['2018-10-06', 5],
        ['2018-10-13', 16],
        ['2018-10-16', 6],
        ['2018-10-18', 4],
        ['2018-10-20', 3],
        ['2018-10-27', 4],
        ['2018-10-28', 2],
        ['2018-10-29', 4],
        ['2018-10-30', 4],
        ['2018-10-31', 0],
        ['2018-11-05', 0],
        ['2018-11-09', 3],
        ['2018-11-11', 5],
        ['2018-11-16', 3],
        ['2018-11-26', 1],
        ['2018-11-28', 2],
        ['2018-12-06', 2],
        ['2018-12-07', 2],
        ['2018-12-12', 2],
        ['2018-12-13', 3],
        ['2018-12-17', 3],
        ['2018-12-22', 8],
        ['2018-12-24', 11],
        ['2018-12-29', 7],
        ['2018-12-31', 0]
    ]

    const jisuan = (rabkool) => {
        let sum = 0
        for (let i = 0; i < data.length; i++) {
            if (data[i][0].substring(5, 7) == rabkool) {
                sum += Number(data[i][1])
            } else if ('全部' == rabkool) {
                sum += Number(data[i][1])
            }
        }
        return sum
    }

    range = ['2018/01', '2018/12/31']

    day = ['日', '月', '火', '水', '木', '金', '土']

    month = [
        `1月(${jisuan("01")}枚)`,
        `2月(${jisuan("02")}枚)`,
        `3月(${jisuan("03")}枚)`,
        `4月(${jisuan("04")}枚)`,
        `5月(${jisuan("05")}枚)`,
        `6月(${jisuan("06")}枚)`,
        `7月(${jisuan("07")}枚)`,
        `8月(${jisuan("08")}枚)`,
        `9月(${jisuan("09")}枚)`,
        `10月(${jisuan("10")}枚)`,
        `11月(${jisuan("11")}枚)`,
        `12月(${jisuan("12")}枚)`
    ]

    option = {
        title: {
            top: 30,
            left: 'center',
            text: '2018年星乃さゆみチェキ(合計' + jisuan('全部') + ')'
        },
        tooltip: {},
        visualMap: {
            pieces: [ //自定义『分段式视觉映射组件（visualMapPiecewise）』的每一段的范围，以及每一段的文字，以及每一段的特别的样式
                {min: 1, max: 5, label: '1-5枚'},
                {min: 6, max: 10, label: '6-10枚'},
                {min: 11, max: 15, label: '11-15枚'},
                {min: 16, max: 30, label: '16-30枚'}
            ],
            type: 'piecewise',
            orient: 'horizontal',
            left: 'center',
            top: 65,
            textStyle: {
                color: '#000'
            },
            inRange: {
                color: [
                    "#50a3ba",
                    "#eac763",
                    "#d94e5d"
                ]
            }
        },
        calendar: {
            top: 120,
            left: 30,
            right: 30,
            cellSize: ['auto', 13],
            range: range,
            itemStyle: {
                normal: {borderWidth: 0.5}
            },
            yearLabel: {show: false},
            dayLabel: {
                margin: 10, "firstDay": 1,
                nameMap: day
            },
            monthLabel: {
                nameMap: month
            },
        },

        series: {
            type: 'heatmap',
            coordinateSystem: 'calendar',
            data: data
        }
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
